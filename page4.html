<!DOCTYPE html>
<html lang="RU">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="stylesheet" href="page4styles.css">
	<title> Художники сюрреалисты</title>
</head>

<body>
	<button id="back-to-home" aria-label="Вернуться на главную" style="display:none;">↑</button>
	</button>
	<div class="container">
		<div class="left-sidebar">
			<div class="logo">
				<img src="лого.png" alt="Art Logo" style="width:172px; height:34px;" />
            </div>
				<ul class="profile-list">
					<li>
						<button onclick="window.location.href='index.html'" style="background:none; border:none; cursor:pointer;">
                        <img src="иконка1.jpg" alt="Рене Магритт" title="Рене Магритт" />
                    </button>
					</li>
					<li>
						<button onclick="window.location.href='page2.html'" style="background:none; border:none; cursor:pointer;">
                        <img src="иконка2.jpeg" alt="Макс Эрнест" title="Макс Эрнест" />
                    </button>
					</li>
					<li>
						<button onclick="window.location.href='page3.html'" style="background:none; border:none; cursor:pointer;">
                        <img src="иконка3.jpg" alt="Сальвадор Дали" title="Сальвадор Дали" />
                    </button>
					</li>
					<li>
						<button onclick="window.location.href='page4.html'" style="background:none; border:none; cursor:pointer;">
                        <img src="иконка4.jpg" alt="Пабло Пикассо" title="Пабло Пикассо" />
                    </button>
					</li>
					<li>
						<button onclick="window.location.href='page5.html'" style="background:none; border:none; cursor:pointer;">
                        <img src="иконка5.jpg" alt="Фрида Кало" title="Фрида Кало" />
                    </button>
					</li>
				</ul>
			</div>

			<div class="main-content">
				<header>
					<div class="menu-toggle" id="menu-toggle" aria-label="Меню" role="button" tabindex="0"
						aria-expanded="false" aria-controls="nav-dropdown">
						<div></div>
						<div></div>
						<div></div>
					</div>

					<nav>
						<ul>
							<li><a href="#biography" data-target="biography">Биография</a></li>
							<li><a href="#topworks" data-target="topworks">Популярные работы</a></li>
							<li><a href="#gallery" data-target="gallery">Галерея работ</a></li>
							<li><a href="#addresses" data-target="addresses">Адреса</a></li>
							<li><a href="#comments" data-target="comments">Комментарии</a></li>
							<li><a href="#footer" data-target="footer">Контакты</a></li>
						</ul>
					</nav>

					<div id="nav-dropdown">
						<button data-target="biography">Биография</button>
						<button data-target="topworks">Популярные работы</button>
						<button data-target="gallery">Галерея работ</button>
						<button data-target="addresses">Адреса</button>
						<button data-target="comments">Комментарии</button>
						<button data-target="footer">Контакты</button>
					</div>

					<a href="profile.html" class="account-icon" title="Профиль"></a>
				</header>

				<section id="home"></section>
				<section id="artists" class="artist-info">
					<h1>Пабло Пикассо</h1>
					<div class="artist-dates">
						<span>25 октября 1881 — 8 апреля 1973</span>
					</div>
				</section>
				<section class="artwork-section">
					<div class="artwork-item">
						<img src="Женщина с цветком.jpg" alt="1" />
						<p>Woman with a Flower</p>
					</div>
					<div class="artwork-item">
						<img src="Купальщицы, играющие в мяч.png" alt="2" />
						<p>Bathers playing bal</p>
					</div>
					<div class="artwork-item">
						<img src="Большая обнажённая в красном кресле.jpg" alt="3" />
						<p>Nude in a red armchair</p>
					</div>
				</section>
			</div>
		</div>

		<section id="biography">
  <div class="bio-flex-container">
		<h2>Биография</h2>
    <div class="bio-left">
      <div class="bio-photo">
        <img src="Пабло Пикассо.jpg" alt="Пабло Пикассо" />
      </div>
      <div class="quote-box">
        <i>"Франсуа Мориак пишет: " Глядя на картины Пикассо, я всегда испытываю двойственное чувство. Мне кажется, что он и гений и лжец. Меня не оставляет ощущение, что я присутствую при покушении хитрого колдуна на человеческое лицо, причём движет им ненависть к тому, что он изображает; не только к внешней стороне предмета, но и ко внутренней, к самой душе"</i>
        <p class="quote-author">- из книги Антонины Валлантен, «Пабло Пикассо»</p>
      </div>
    </div>
    <div class="bio-right">
      <div class="period-buttons" id="period-buttons">
        <button data-period="1">1 период</button>
        <button data-period="2">2 период</button>
        <button data-period="3">3 период</button>
      </div>
      
      <div class="period-descriptions">
        <div id="period1" class="period">
          <h3>Период 1</h3>
          <p>Пабло Пикассо родился 25 октября 1881 года в Малаге, в семье среднего класса, где его отец, художник по натуралистической живописи, оказал большое влияние на его раннее развитие. Уже в раннем возрасте он проявлял исключительный талант к рисованию, а первые уроки он получил у отца, создавая свои первые работы, например, «Пикадор», с которым он был очень привязан всю жизнь. В 1894 году семья переехала в Ла-Корунью, где Пикассо продолжил обучение в школе искусств, а затем в 1895 году — в школе изящных искусств в Барселоне, несмотря на свой молодой возраст. В 1897 году он уехал в Мадрид, чтобы учиться в Королевской академии Сан-Фернандо, но больше времени он проводил в музее Прадо, изучая шедевры классического искусства, чем в академии. В 1900 году он присоединился к художественному обществу Els Quatre Gats, где впервые провел персональные выставки и познакомился с богемной культурой. Его ранние работы, насыщенные меланхолией и темами старости и смерти, обозначили его «голубой период», отражая внутренние переживания молодого художника. В этот же период он начал экспериментировать с цветом и формой, что подготовило почву для последующих революционных этапов его творчества. В 1904 году он переехал в Париж, где начал активно развивать свой уникальный стиль, и вскоре его творчество приобрело международное признание.</p>
        </div>
        <div id="period2" class="period">
          <h3>Период 2</h3>
          <p>Переход к кубизму стал одним из наиболее значимых этапов в творчестве Пикассо — вместе с Жоржем Браком он стал родоначальником этого революционного направления, отвергающего традиционные представления о перспективе и реалистичности. В 1907 году он создал «Авиньонских девиц», где впервые применил принципы искажения форм и анализа предметов на плоскости, что стало отправной точкой кубизма. Вдохновившись африканскими масками и скульптурами, он начал использовать геометрические блоки и коллажи, внедряя в свои работы элементы из газет, обоев и других материалов. Его картины, такие как «Кирпичный завод в Тортосе» и «Портрет Фернанды Оливье», демонстрируют усиление абстракции и разрушение классических канонов. В 1910-х годах он экспериментировал с синтетическим кубизмом, вводя в композиции типографские элементы и шрифты, создавая «кубистическую тайнопись». В этот период он также работал над натюрмортами и портретами, часто сочетая в них множество техник и материалов, что делало его работы многослойными и загадочными. В 1917 году он активно участвовал в сценографическом оформлении балета «Парад» для Русского балета Дягилева, что вызвало скандал и привлекло к нему внимание широкой публики. Этот период стал важнейшим для развития его стиля, сочетая аналитический и синтетический кубизм, а также театральные и декоративные эксперименты.</p>
        </div>
        <div id="period3" class="period">
          <h3>Период 3</h3>
          <p>После Второй мировой войны Пикассо пережил новый творческий подъем, открыв для себя радость солнечного юга Франции и возвращение к классическим мотивам, что отражается в его работах в духе античности и мифологии. В 1945 году он сблизился с Франсуазой Жило и создал серию произведений, наполненных семейными темами и светлыми настроениями, а также начал заниматься скульптурой и керамикой, создавая ассамбляжи из случайных материалов. В 1950-х годах его творчество стало более разнообразным: он создавал портреты, натюрморты, скульптуры, а также экспериментировал с графикой и литографиями, которые подписывал собственноручно. В 1953 году его личная жизнь омрачилась разрывом с Франсуазой, что нашло отражение в его работах, наполненных горечью и иронией. В последующие годы он продолжал искать новые формы и идеи, вдохновляясь древним искусством, театром и культурой юга Франции, создавая работы в духе тавромахии и гойевских мотивов. Его поздние произведения отличаются богатством материалов и техник, а также богатством символики, объединяя классические и современные мотивы. Пикассо умер 8 апреля 1973 года в Мужене, оставив после себя огромное наследие, которое продолжает оказывать влияние на искусство XX века и сегодня.</p>
        </div>
      </div>
    </div>
  </div>
</section>

		<section id="topworks">
			<h2>Популярные работы</h2>
			<p>Познакомьтесь поближе с самыми известными работами и их смыслом, которые ассоциируются с Пабло Пикассо.</p>
			<div class="topworks-gallery">
				<div class="card"
					data-description="Эта картина представляет собой абстрактное изображение женщины, вызывающее разнообразные эмоциональные реакции у зрителей. Используя яркие цвета и геометрические формы, художник передает сложные чувства — от суровости до раздражения, создавая эффект диссонанса между изображением и его символикой. На полотне можно увидеть схематичные черты лица и фигуры, а также расплывчатый цветочный мотив, который скорее напоминает гальку или воздушный шарик, чем настоящий цветок. В движении присутствуют яркие руки и разноцветная накидка, что добавляет динамики и энергии картине. В целом, работа вызывает ощущение эмоционального отклика, позволяя каждому зрителю интерпретировать ее по-своему. Это произведение — не только визуальное восприятие, но и выражение внутренней эмоциональной напряженности и сложных чувств, характерных для творчества Пикассо.">
					<div class="card-image-container" style="position: relative;">
						<img src="Женщина с цветком.jpg" alt="Картина 1" />
						<button class="desc-btn">Описание</button>
						<div class="description-popup"></div>
					</div>
					<p>"Женщина с цветком"</p>
				</div>
				<div class="card"
					data-description="Картина отражает сюрреалистические образы, связанные с изменением взаимоотношений художника с женой и новой любовью — Марией-Терезой Вальтер. Изображенные купальщицы представлены в напряжённых, искусственных позах с вывернутыми руками и ногами, а их силуэты напоминают вырезки из картона, символизируя скорее абстрактные образы, чем реальных людей. Образ купальщицы на полотне часто интерпретируется как символ тайны, которую Пикассо не мог раскрыть миру. Вдохновением для создания серии стала его новая любовь, которую он тайно встречал с женой и Ольгой в Динаре в 1928–1929 годах. Этот сюжет передает сложные внутренние переживания художника и его стремление выразить скрытые чувства через символизм и упрощенные формы. Таким образом, картина является не только визуальным произведением, но и эмоциональным посланием, скрытым за минимализмом изображения.">
					<div class="card-image-container" style="position: relative;">
						<img src="Купальщицы, играющие в мяч.png" alt="Картина 2" />
						<button class="desc-btn">Описание</button>
						<div class="description-popup"></div>
					</div>
					<p>"Купальщицы, играющие в мяч"</p>
				</div>
				<div class="card"
					data-description="Картина является ярким примером его сюрреалистического периода, когда формы приобрели плавные и органические очертания, вызывая сильные эмоции у зрителей. На полотне изображена женская фигура, вероятно, балерина Ольга Степановна Хохлова, чья личность и отношения с художником уже были напряжёнными. Картина предназначена для шокирования аудитории, подчеркивая тему обезличивания и обесценивания женского образа, что вызвало возмущение среди феминисток. Образ героини насыщен символизмом и вызывает ассоциации с подчинением и унижением, особенно учитывая выразительный контраст красных и зелёных оттенков. Внутреннее напряжение усугубляется спокойным морским пейзажем за окном, создавая ощущение диссонанса. Это произведение отражает сложные внутренние переживания художника и его отношение к женской теме в искусстве.">
					<div class="card-image-container" style="position: relative;">
						<img src="Большая обнажённая в красном кресле.jpg" alt="Картина 3" />
						<button class="desc-btn">Описание</button>
						<div class="description-popup"></div>
					</div>
					<p>"Большая обнажённая в красном кресле"</p>
				</div>
			</div>
		</section>

		<section id="gallery">
			<h2>Галерея работ</h2>
			<div class="carousel-container" style="margin-bottom:40px;">
				<div class="carousel-track" id="carousel-track1">
					<div class="gallery-item" data-year="1925"
						data-description="Полотно, наполненное изломанными фигурами, по словам живописца, правильнее было бы назвать «Пляской смерти», поскольку навеяно оно воспоминаниями о гибели двух его друзей-художников: Карлоса Касагемаса в 1901 году и Рамона Пишо в 1925 году (вовлеченных в любовный треугольник с роковой женщиной по имени Жермен Гаргалло).">
						<img src="Три танцора.jpg" alt="Картина 1" />
						<div class="caption">"Три танцора"</div>
					</div>
					<div class="gallery-item" data-year="1930"
						data-description="Значимость персонажей для происходящих событий Пикассо подчеркивает размерами: распятый Иисус Христос и едва угадываемые в резких контурах и цветовых плоскостях Богоматерь и Мария Магдалина крупные, чуть меньше — сброшенные с крестов тела разбойников и солдаты, разыгрывающие в карты плащ казненного.">
						<img src="Распятие.jpg" alt="Картина 2" />
						<div class="caption">"Распятие"</div>
					</div>
					<div class="gallery-item" data-year="1932"
						data-description="Смысл произведения заключается в классическом изображении женщины перед зеркалом, переосмысленном в современном контексте поиска собственного «Я».">
						<img src="Спящая в зеркале (Мария Тереза Вальтер).jpg" alt="Картина 3" />
						<div class="caption">"Спящая в зеркале (Мария Тереза Вальтер)"</div>
					</div>
					<div class="gallery-item" data-year="1931"
						data-description="Картина имеет множество трактовок: некоторые усматривают в ней порицание похоти, другие утверждают, что она воплощение страсти, третьи усматривают в ней личное отношение мастера к плотским утехам.">
						<img src="Фигуры на пляже.jpg" />
						<div class="caption">"Фигуры на пляже"</div>
					</div>
					<div class="gallery-item" data-year="1932"
						data-description="Смысл картины заключается в том, что Пикассо представляет Марию-Терезу в роли благотворной и лелеянной музы, как богиню секса и желания, что возлежит перед ним в глубоком восторженном сне.">
						<img src="Обнажённая, зелёные листья и бюст.jpg" alt="Картина 5" />
						<div class="caption">"Обнажённая, зелёные листья и бюст"</div>
					</div>
					<div class="gallery-item" data-year="1932"
						data-description="Движение рук на картине можно интерпретировать по-разному: то ли это отсылка к беременности девушки, которая таким движением даже во сне пытается закрыть ещё нерождённого младенца от всех невзгод, то ли изображение самоудовлетворения.">
						<img src="Сон Пикассо.jpg" alt="Картина 6" />
						<div class="caption">"Сон"</div>
					</div>
					<div class="gallery-item" data-year="1932"
						data-description="Изображение является выражением любви художника к своей модели, что проявляется в использовании плавных линий и баланса цветов.">
						<img src="Обнажённая в чёрном кресле.jpg" alt="Картина 7" />
						<div class="caption">"Обнажённая в чёрном кресле"</div>
					</div>
				</div>
			</div>
			<div class="popup-info" id="popup-info">
				<div class="popup-content">
					<button class="close-popup">×</button>
					<h3 id="popup-title"></h3>
					<p><strong>Год:</strong> <span id="popup-year"></span></p>
					<p id="popup-desc"></p>
				</div>
			</div>

	<div class="carousel-container2" style="margin-bottom:40px;">
		<div class="carousel-track2" id="carousel-track2">
			<div class="gallery-item2" data-year2="1929" 
      data-description2="Полотно может рассматриваться как символ двусмысленности и обречённости любовной связи Ольги и Пабло, пожирающих их человеческие отношения.">
        <img src="Поцелуй.jpg" alt="Картина 1" />
				<div class="caption2">"Поцелуй"</div>
			</div>
			<div class="gallery-item2" data-year2="1931" 
      data-description2="художник исследует модель на полотне, складывая и перекручивая фрагменты тела. Он играет с ними как с конструктором и пытается определить, что будет, если сложить детали по-другому.">
				<img src="Девушка, бросающая камень.jpg" alt="Картина 2" />
				<div class="caption2">"Девушка, бросающая камень"</div>
			</div>
      <div class="gallery-item2" data-year2="1928" 
      data-description2="Образец оригинального взгляда автора на красоту женского тела в сюрреалистический период его творчества.">
        <img src="Купальщицы 4.jpg" alt="Картина 3" />
        <div class="caption2">"Купальщицы 4"</div>
      </div>
      <div class="gallery-item2" data-year2="1929" 
      data-description2="В мотиве купальщиц как символе естества и первозданности Пикассо усматривал ключ к решению поставленных перед собою художественных задач.">
        <img src="Обнажённая на пляже.jpg" alt="Картина 4" />
        <div class="caption2">"Обнажённая на пляже"</div>
      </div>
        <div class="gallery-item2" data-year2="1921" 
        data-description2="Картина показывает правду о материнстве бедных женщин, которым приходится сражаться против целого мира за счастье своего ребёнка.">
				<img src="Мать и дитя.jpg" alt="Картина 5" />
				<div class="caption2">"Мать и дитя"</div>
			</div>
      <div class="gallery-item2" data-year2="1926" 
      data-description2="Смысл серии заключается в размышлениях об искусстве и представлении о художнике как о творце, его отношении к природе как к объекту творчества.">
				<img src="Художник и его модель.jpg" alt="Картина 6" />
				<div class="caption2">"Художник и его модель"</div>
			</div>
      <div class="gallery-item2" data-year2="1931" 
      data-description2="Следует учитывать, что символика картин не имеет однозначного толкования и может быть субъективной.">
				<img src="Кувшин разрезанные фрукты и листья.jpg" alt="Картина 7" />
				<div class="caption2">"Кувшин разрезанные фрукты и листья"</div>
			</div>
		</div>
	</div>
<div class="popup-info2" id="popup-info2">
				<div class="popup-content2">
					<button class="close-popup2">×</button>
					<h3 id="popup-title2"></h3>
					<p><strong>Год:</strong> <span id="popup-year2"></span></p>
					<p id="popup-desc2"></p>
				</div>
			</div>

		</section>

		<section id="addresses">
			<h2>Адреса</h2>
			<p>В данных галереях вы можете найти работы Макса Эрнста, выставленные на данный момент.</p>
			<div class="map-container">
				<div class="map-wrapper" id="map"></div>
				<div class="buttons-wrapper">
					<button class="address-btn" data-lat="48.8596744" data-lon="2.3624171">"Музей Пикассо", Париж, Франция</button>
					<button class="address-btn" data-lat="41.38518500" data-lon="2.18081500">"Музей Пикассо в Барселоне", Барселона, Каталония, Испания</button>
					<button class="address-btn" data-lat="36.72167" data-lon="-4.41833">"Музей Пикассо в Малаге", Малага, Испания</button>
				</div>
			</div>
		</section>

		<section id="comments" class="comments-section">
			<h2>Комментарии</h2>
			<div id="comments-list" class="comments-list"></div>
			<div class="comment-form">
				<textarea id="newComment" placeholder="Ваш комментарий..." rows="3"></textarea>
				<button id="submitComment">Отправить</button>
			</div>
		</section>

		
<footer class="footer">
	<section id="footer" class="footer-section">
		<h3>О нас</h3>
		<p>Цель — продвигать исскуство и его различные направления. Это не только сборники информации, но и ее смысл.
			Здесь больше, чем искусство.</p>
	</div>
	<div class="footer-section">
		<h3>Контакты</h3>
		<p>Телефон: +7 (901) 972-14-03</p>
		<p>Email: lollamatyusheva@gmail.com</p>
		<p>Адрес: г. Санкт-Петербург, пер. Джамбула, д. 13</p>
	</div>
	<div class="footer-section subscription">
		<h3>Подписка на новости</h3>
		<p>Введите почту, чтобы получать свежие новости и анонсы выставок.</p>
		<input type="email" id="subscribeEmail" class="subscribe-input" placeholder="Ваш email" />
		<button id="subscribeBtn" class="subscribe-btn">Подписаться</button>
		<p id="subscribeMessage" class="subscribe-message">Вы успешно подписались на новости!</p>
	</div>
	<div class="footer-copy">
		<p>© 2025 Сюрреалисты. Все права защищены.</p>
	</div>
</footer>







		<script>
			const backToHome = document.getElementById("back-to-home");
			
			window.onscroll = function() {
			if (document.body.scrollTop > 50 || document.documentElement.scrollTop > 50) {
			backToHome.style.display = "block";
			} else {
			backToHome.style.display = "none";
			}
			};
			
			backToHome.onclick = function() {
			window.scrollTo({
			top: 0,
			behavior: 'smooth' 
			});
			};

        const menuToggle = document.getElementById('menu-toggle');
        const navDropdown = document.getElementById('nav-dropdown');

        menuToggle.addEventListener('click', () => {
            const expanded = menuToggle.getAttribute('aria-expanded') === 'true' || false;
            menuToggle.setAttribute('aria-expanded', String(!expanded));
            navDropdown.classList.toggle('show');
        });

        menuToggle.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                menuToggle.click();
            }
        });

        document.querySelectorAll('#nav-dropdown button, nav ul a').forEach(btn => {
            btn.addEventListener('click', () => {
                const targetId = btn.getAttribute('data-target') || btn.getAttribute('href').substring(1);
                const targetSection = document.getElementById(targetId);
                if (targetSection) {
                    targetSection.scrollIntoView({ behavior: 'smooth' });
                }
                if (navDropdown.classList.contains('show')) {
                    navDropdown.classList.remove('show');
                    menuToggle.setAttribute('aria-expanded', 'false');
                }
            });
        });

        const periodButtons = document.querySelectorAll('#period-buttons button');
        const periods = document.querySelectorAll('.period');

        function showPeriod(id) {
            periods.forEach(p => p.classList.remove('active'));
            const target = document.getElementById(id);
            if (target) target.classList.add('active');
        }
        showPeriod('period1');

        periodButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                const periodId = 'period' + btn.getAttribute('data-period');
                showPeriod(periodId);
            });
        });

        function updatePeriodButtonsDisplay() {
            document.getElementById('period-buttons').style.display = 'flex';
        }
        window.addEventListener('resize', updatePeriodButtonsDisplay);
        updatePeriodButtonsDisplay();

document.querySelectorAll('.card').forEach(card => {
  const btn = card.querySelector('.desc-btn');
  const popup = card.querySelector('.description-popup');

  const customText = card.getAttribute('data-description');
  popup.innerHTML = `<p>${customText}</p>`;

  function updateDisplay() {
    const isMobile = window.innerWidth <= 768;

    if (isMobile) {
      popup.style.display = 'none';

      if (btn) {
        btn.style.display = 'inline-block';

        if (!btn.dataset.bound) {
          btn.addEventListener('click', () => {
            if (popup.style.display === 'none' || popup.style.display === '') {
              popup.style.display = 'flex';
              btn.innerText = 'Скрыть описание';
            } else {
              popup.style.display = 'none';
              btn.innerText = 'Показать описание';
            }
          });
          btn.dataset.bound = 'true'; 
        }
      }
    } else {
      popup.style.display = 'flex';

      // скрываем кнопку
      if (btn) {
        btn.style.display = 'none';
        btn.innerText = 'Показать описание';
      }
    }
  }

  window.addEventListener('load', updateDisplay);
  window.addEventListener('resize', updateDisplay);

  document.addEventListener('click', (e) => {
    if (!e.target.closest('.card-image-container') && !e.target.closest('.desc-btn')) {
      if (window.innerWidth <= 768) {
        if (popup.style.display === 'flex') {
          popup.style.display = 'none';
          if (btn) btn.innerText = 'Показать описание';
        }
      }
    }
  });
});

      const track = document.querySelector('.carousel-track');
      const items = document.querySelectorAll('.gallery-item');
      const popup = document.getElementById('popup-info');
      const popupTitle = document.getElementById('popup-title');
      const popupYear = document.getElementById('popup-year');
      const popupDesc = document.getElementById('popup-desc');

      let isPaused = false;
      let currentTranslateX = 0;
      let direction1 = -1; 

      function autoScroll() {
          if (isPaused) return;

          const firstItem = items[0];
          const itemWidth = firstItem.offsetWidth + 15;

          currentTranslateX += direction1 * itemWidth;

          const maxTranslate = track.scrollWidth - track.parentElement.offsetWidth;

          if (currentTranslateX >= maxTranslate) {
              currentTranslateX = maxTranslate;
              direction1 = -1; 
          } else if (currentTranslateX <= 0) {
              currentTranslateX = 0;
              direction1 = 1; 
          }

          track.style.transform = `translateX(-${currentTranslateX}px)`;
      }

      let intervalId1 = setInterval(autoScroll, 2000);

      track.addEventListener('mouseenter', () => { isPaused = true; });
      track.addEventListener('mouseleave', () => { isPaused = false; });

      items.forEach(item => {
          item.addEventListener('click', () => {
              const title = item.querySelector('.caption').innerText;
              const year = item.getAttribute('data-year');
              const desc = item.getAttribute('data-description');

              popupTitle.innerText = title;
              popupYear.innerText = year;
              popupDesc.innerText = desc;
              popup.classList.add('show');
          });
      });

      document.querySelector('.close-popup').addEventListener('click', () => {
          popup.classList.remove('show');
      });

      const track2 = document.querySelector('.carousel-track2');
      const items2 = document.querySelectorAll('.gallery-item2');
      const popup2 = document.getElementById('popup-info2');
      const popupTitle2 = document.getElementById('popup-title2');
      const popupYear2 = document.getElementById('popup-year2');
      const popupDesc2 = document.getElementById('popup-desc2');

      let isPaused2 = false;
      let totalWidth2 = track2.scrollWidth;
      let containerWidth2 = track2.parentElement.offsetWidth;
      let currentTranslateX2 = totalWidth2 - containerWidth2;
      let direction2 = 1; 

      function updateDimensions() {
          totalWidth2 = track2.scrollWidth;
          containerWidth2 = track2.parentElement.offsetWidth;
      }
      window.addEventListener('resize', updateDimensions);

      function autoScroll2() {
          if (isPaused2) return;

          const firstItem = items2[0];
          const itemWidth = firstItem.offsetWidth + 15;

          currentTranslateX2 += direction2 * itemWidth;

          if (currentTranslateX2 >= totalWidth2 - containerWidth2) {
              currentTranslateX2 = totalWidth2 - containerWidth2;
              direction2 = -1;
          } else if (currentTranslateX2 <= 0) {
              currentTranslateX2 = 0;
              direction2 = 1;
          }

          track2.style.transform = `translateX(-${currentTranslateX2}px)`;
      }

      let intervalId2 = setInterval(autoScroll2, 2000);

      track2.addEventListener('mouseenter', () => { isPaused2 = true; });
      track2.addEventListener('mouseleave', () => { isPaused2 = false; });

      items2.forEach(item => {
          item.addEventListener('click', () => {
            const title = item.querySelector('.caption2').innerText;
            const year = item.getAttribute('data-year2');
            const desc = item.getAttribute('data-description2');

            document.getElementById('popup-title2').innerText = title;
            document.getElementById('popup-year2').innerText = year;
            document.getElementById('popup-desc2').innerText = desc;
            
            popup2.classList.add('show');
          });
        });

        const closeBtn2 = document.querySelector('.close-popup2');
        if (closeBtn2) {
          closeBtn2.addEventListener('click', () => {
            popup2.classList.remove('show');
          });
        }

		</script>

		<script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU&apikey=301c8492-009d-4551-b7e6-ac10481a3e36"
			type="text/javascript"></script>
		<script>
			let myMap, placemark;
		
		  function initMap() {
		    ymaps.ready(() => {
		      myMap = new ymaps.Map("map", {
		        center: [48.85341, 2.3488], 
		        zoom: 10,
		        controls: ['zoomControl']
		      });
		
		      myMap.events.add('click', function (e) {
		        const coords = e.get('coords');
		        if (placemark) {
		          placemark.geometry.setCoordinates(coords);
		        } else {
		          placemark = new ymaps.Placemark(coords, {}, {
		            draggable: true
		          });
		          myMap.geoObjects.add(placemark);
		          
		          placemark.events.add('dragend', () => {
		            const newCoords = placemark.geometry.getCoordinates();
		            console.log('Новое местоположение:', newCoords);
		          });
		        }
		      });
		      
		      document.querySelectorAll('.address-btn').forEach(btn => {
		        btn.addEventListener('click', () => {
		          const lat = parseFloat(btn.getAttribute('data-lat'));
		          const lon = parseFloat(btn.getAttribute('data-lon'));
		          myMap.setCenter([lat, lon], 14);
		          if (placemark) {
		            placemark.geometry.setCoordinates([lat, lon]);
		          } else {
		            placemark = new ymaps.Placemark([lat, lon], {}, {
		              draggable: true
		            });
		            myMap.geoObjects.add(placemark);
		            placemark.events.add('dragend', () => {
		              const newCoords = placemark.geometry.getCoordinates();
		              console.log('Новое местоположение:', newCoords);
		            });
		          }
		        });
		      });
		    });
		  }
		
		  window.addEventListener('load', initMap);
		</script>

		<script>
			const commentsList = document.getElementById('comments-list');
		  const textarea = document.getElementById('newComment');
		  const btnSend = document.getElementById('submitComment');
		const localStorageAvatarKey = 'profileAvatar'; // ключ для хранения

		  const currentUser = {
 			 name: 'ВЫ',
  			avatar: localStorage.getItem('profileAvatar') || ''
			};
		
		  const predefinedComments = [
    { author: 'Анастасия', avatar: 'профиль10.jpg', text: 'Многосерийные произведения оставили меня в смешанных чувствах! Пикассо знал, как играться с нашим восприятием)))' },
    { author: 'Владимир', avatar: 'профиль2.jpg', text: 'Самые скучные работы из всех сюрреалистов. Кто согласен - ставьте лайк!' },
    { author: 'Евгений', avatar: 'профиль4.jpg', text: 'Его работы — шедевры современного искусства. Особенно люблю его кубистические портреты (хоть здесь мы и говорим больше о сюрреализме) — они очень живые и выразительные' },
    { author: 'Светлана', avatar: 'профиль1.jpg', text: 'Я считаю, что Пикассо — один из величайших художников всех времен. Его инновации изменили развитие искусства навсегда.' },
    { author: 'Джун', avatar: 'профиль7.jpg', text: 'Много узнал нового, действительно полезный сайт. Спасибо.' },
    { author: 'Ольга', avatar: 'профиль8.jpg', text: 'Действительно интересный и хорошо продуманный музей (который в Малаге). Расположен в красивом здании. Узнала много нового о Пикассо и рекомендую посетить здесь!✨😊😊' },
    { author: 'Дмитрий', avatar: 'профиль9.jpg', text: 'НУ ВОТ ЭТО ИСКУССТВО, КАКИЕ ЛИНИИ, КАКИЕ ЦВЕТА!! А СМЫСЛ!!! ПИКАССО ЛУЧШИЙ!' },
    { author: 'Фейт', avatar: 'профиль6.jpg', text: 'Я вижу в Пикассо художника, который постоянно искал новые формы выражения и не боялся разрушать устоявшиеся каноны, что делает его творчество невероятно актуальным и сегодня. Его биография показывает мне, как важна смелость и экспериментаторство в искусстве, и вдохновляет меня на собственные поиски и развитие.' },
    { author: 'Алексей', avatar: 'профиль5.jpg', text: 'Мне кажется, что Пикассо переоценен... Не знаю, мое мнение.' },
    { author: 'Елена', avatar: 'профиль3.jpg', text: 'Не могу сказать, что я фанатка его творчества, но уважаю его смелость и роль в истории искусства и некоторые работы определенно заслуживают внимания.' }
];
		
			let allCommentsData = [];
		
		  function createComment({author, avatar, text, replyTo = null}) {
		    const commentDiv = document.createElement('div');
		    commentDiv.className = 'comment';
		
		    const headerDiv = document.createElement('div');
		    headerDiv.className = 'comment-header';
		
		    const avatarImg = document.createElement('img');
		    avatarImg.src = avatar;
		    avatarImg.className = 'comment-avatar';
		
		    const infoDiv = document.createElement('div');
		    infoDiv.className = 'comment-info';
		
		    const authorSpan = document.createElement('span');
		    authorSpan.className = 'comment-author';
		    authorSpan.innerText = author;
		    infoDiv.appendChild(authorSpan);
		
		    if (replyTo) {
		      const replyToSpan = document.createElement('div');
		      replyToSpan.className = 'comment-reply-to';
		      replyToSpan.innerText = `(@${replyTo.author})`;
		      infoDiv.appendChild(replyToSpan);
		    }
		
		    const actionsDiv = document.createElement('div');
		    actionsDiv.className = 'comment-actions';
		
		    const likeBtn = document.createElement('button');
		    likeBtn.innerHTML = `👍 <span class="like-count">0</span>`;
		    likeBtn.dataset.liked = 'false';
		    likeBtn.onclick = () => {
		      const liked = likeBtn.dataset.liked === 'true';
		      const dislikeBtn = likeBtn.nextElementSibling;
		      if (!liked) {
		        likeBtn.dataset.liked = 'true';
		        likeBtn.querySelector('.like-count').innerText = '1';
		        if (dislikeBtn.dataset.liked === 'true') {
		          dislikeBtn.dataset.liked = 'false';
		          dislikeBtn.querySelector('.dislike-count').innerText = '0';
		        }
		      } else {
		        likeBtn.dataset.liked = 'false';
		        likeBtn.querySelector('.like-count').innerText = '0';
		      }
		    };
		
		    const dislikeBtn = document.createElement('button');
		    dislikeBtn.innerHTML = `👎 <span class="dislike-count">0</span>`;
		    dislikeBtn.dataset.liked = 'false';
		    dislikeBtn.onclick = () => {
		      const disliked = dislikeBtn.dataset.liked === 'true';
		      const likeBtnRef = dislikeBtn.previousElementSibling; // лайк — предыдущий
		      if (!disliked) {
		        dislikeBtn.dataset.liked = 'true';
		        dislikeBtn.querySelector('.dislike-count').innerText = '1';
		        if (likeBtnRef.dataset.liked === 'true') {
		          likeBtnRef.dataset.liked = 'false';
		          likeBtnRef.querySelector('.like-count').innerText = '0';
		        }
		      } else {
		        dislikeBtn.dataset.liked = 'false';
		        dislikeBtn.querySelector('.dislike-count').innerText = '0';
		      }
		    };
		
		    const replyBtn = document.createElement('button');
        replyBtn.innerText = 'Ответить';

        replyBtn.onclick = () => {
            // Проверяем есть ли уже окно ответа
            const existingReplyBox = commentDiv.querySelector('.reply-box');
            if (existingReplyBox) {
                existingReplyBox.remove();
            } else {
                const replyBox = document.createElement('div');
                replyBox.className = 'reply-box';

                const replyTextarea = document.createElement('textarea');
                replyTextarea.rows = 2;
                replyTextarea.placeholder = 'Ваш ответ...';

                const replySend = document.createElement('button');
                replySend.innerText = 'Отправить';

                replySend.onclick = () => {
                    if (replyTextarea.value.trim() !== '') {
                        createComment({
author: currentUser.name,
                            avatar: currentUser.avatar,
                            text: replyTextarea.value,
                            replyTo: {author: author}
                        });
                        replyBox.remove();
                    }
                };

                replyBox.appendChild(replyTextarea);
                replyBox.appendChild(replySend);
                commentDiv.appendChild(replyBox);
            }
        };
		
					const deleteBtn = document.createElement('button');
					deleteBtn.innerText = 'Удалить';
					deleteBtn.onclick = () => {
					if (confirm('Удалить этот комментарий?')) {
					const commentId = commentDiv.getAttribute('data-id');
					if (commentId) {
					allCommentsData = allCommentsData.filter(c => c.id !== commentId);
					}
					commentDiv.remove();
					}
					};
		
		    actionsDiv.appendChild(likeBtn);
		    actionsDiv.appendChild(dislikeBtn);
		    actionsDiv.appendChild(replyBtn);
		    if (author === currentUser.name) {
		      actionsDiv.appendChild(deleteBtn);
		    }
		
		    headerDiv.appendChild(avatarImg);
		    headerDiv.appendChild(infoDiv);
		    headerDiv.appendChild(actionsDiv);
		
		    const textDiv = document.createElement('div');
		    textDiv.className = 'comment-text';
		    textDiv.innerText = text;
		
		    commentDiv.appendChild(headerDiv);
		    commentDiv.appendChild(textDiv);
		
		    commentsList.appendChild(commentDiv);
		
		    allCommentsData.push({author, avatar, text});
		  }
		
		  document.getElementById('submitComment').onclick = () => {
		    const text = textarea.value.trim();
		    if (text !== '') {
		      createComment({
		        author: currentUser.name,
		        avatar: currentUser.avatar,
		        text: text
		      });
		      textarea.value = '';
		
		      setTimeout(() => {
		        for (let i=0; i<2; i++) {
		          const randIndex = Math.floor(Math.random() * predefinedComments.length);
		          createComment(predefinedComments[randIndex]);
		        }
		      }, 5000);
		    }
		  };
		
		  function addAutoComments() {
		    for (let i=0; i<2; i++) {
		      const randIndex = Math.floor(Math.random() * predefinedComments.length);
		      setTimeout(() => {
		        createComment(predefinedComments[randIndex]);
		      }, Math.random() * 2000 + 3000);
		    }
		  }
		  addAutoComments();

			document.getElementById('subscribeBtn').onclick = () => {
			const emailInput = document.getElementById('subscribeEmail');
			const messageP = document.getElementById('subscribeMessage');
			const email = emailInput.value.trim();
			
			const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
			
			if (email === '') {
			alert('Пожалуйста, введите ваш email!');
			} else if (!emailPattern.test(email)) {
			alert('Пожалуйста, введите корректный email!');
			} else {
			messageP.style.display = 'block';
			
			emailInput.value = '';
			}
			};

		</script>

</body>
</html>
