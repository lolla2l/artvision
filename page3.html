<!DOCTYPE html>
<html lang="RU">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="stylesheet" href="page3styles.css">
	<title> Художники сюрреалисты</title>
</head>

<body>
	<button id="back-to-home" aria-label="Вернуться на главную" style="display:none;">↑</button>
	</button>
	<div class="container">
		<div class="left-sidebar">
			<div class="logo">
				<img src="лого.png" alt="Art Logo" style="width:172px; height:34px;" />
            </div>
				<ul class="profile-list">
					<li>
						<button onclick="window.location.href='index.html'" style="background:none; border:none; cursor:pointer;">
                        <img src="иконка1.jpg" alt="Рене Магритт" title="Рене Магритт" />
                    </button>
					</li>
					<li>
						<button onclick="window.location.href='page2.html'" style="background:none; border:none; cursor:pointer;">
                        <img src="иконка2.jpeg" alt="Макс Эрнест" title="Макс Эрнест" />
                    </button>
					</li>
					<li>
						<button onclick="window.location.href='page3.html'" style="background:none; border:none; cursor:pointer;">
                        <img src="иконка3.jpg" alt="Сальвадор Дали" title="Сальвадор Дали" />
                    </button>
					</li>
					<li>
						<button onclick="window.location.href='page4.html'" style="background:none; border:none; cursor:pointer;">
                        <img src="иконка4.jpg" alt="Пабло Пикассо" title="Пабло Пикассо" />
                    </button>
					</li>
					<li>
						<button onclick="window.location.href='page5.html'" style="background:none; border:none; cursor:pointer;">
                        <img src="иконка5.jpg" alt="Фрида Кало" title="Фрида Кало" />
                    </button>
					</li>
				</ul>
			</div>

			<div class="main-content">
				<header>
					<div class="menu-toggle" id="menu-toggle" aria-label="Меню" role="button" tabindex="0"
						aria-expanded="false" aria-controls="nav-dropdown">
						<div></div>
						<div></div>
						<div></div>
					</div>

					<nav>
						<ul>
							<li><a href="#biography" data-target="biography">Биография</a></li>
							<li><a href="#topworks" data-target="topworks">Популярные работы</a></li>
							<li><a href="#gallery" data-target="gallery">Галерея работ</a></li>
							<li><a href="#addresses" data-target="addresses">Адреса</a></li>
							<li><a href="#comments" data-target="comments">Комментарии</a></li>
							<li><a href="#footer" data-target="footer">Контакты</a></li>
						</ul>
					</nav>

					<div id="nav-dropdown">
						<button data-target="biography">Биография</button>
						<button data-target="topworks">Популярные работы</button>
						<button data-target="gallery">Галерея работ</button>
						<button data-target="addresses">Адреса</button>
						<button data-target="comments">Комментарии</button>
						<button data-target="footer">Контакты</button>
					</div>

					<a href="profile.html" class="account-icon" title="Профиль"></a>
				</header>

				<section id="home"></section>
				<section id="artists" class="artist-info">
					<h1>Сальвадор Дали</h1>
					<div class="artist-dates">
						<span>11 Мая 1904 – 23 Января 1989</span>
					</div>
				</section>
				<section class="artwork-section">
					<div class="artwork-item">
						<img src="Постоянство памяти.jpg" alt="1" />
						<p>The Persistence of Memory</p>
					</div>
					<div class="artwork-item">
						<img src="Галатея со сферами.jpg" alt="2" />
						<p>Galatea of the Spheres</p>
					</div>
					<div class="artwork-item">
						<img src="Сон.jpg" alt="3" />
						<p>Dream</p>
					</div>
				</section>
			</div>
		</div>

		<section id="biography">
  <div class="bio-flex-container">
		<h2>Биография</h2>
    <div class="bio-left">
      <div class="bio-photo">
        <img src="Сальвадор Дали 2.jpg" alt="Сальвадор Дали" />
      </div>
      <div class="quote-box">
        <i>"Дали — рисовальщик исключительного дарования. И, судя по тщательности и уверенности его рисунка, он к тому же и большой труженик. Да, эксгибиционист и карьерист, но не обманщик. Он в пятьдесят раз талантливее большинства людей, порицающих его мораль и косо глядящих на его картины"</i>
        <p class="quote-author">- из книги Джорджа Оруэлла, «Привилегия Духовных Пастырей: Заметки о Сальвадоре Дали»</p>
      </div>
    </div>
    <div class="bio-right">
      <div class="period-buttons" id="period-buttons">
        <button data-period="1">1 период</button>
        <button data-period="2">2 период</button>
        <button data-period="3">3 период</button>
      </div>
      
      <div class="period-descriptions">
        <div id="period1" class="period">
          <h3>Период 1</h3>
          <p>Сальвадор Дали родился в 1904 году в испанском городе Фигерас в семье зажиточного нотариуса, идентифицируя себя как каталонца. В детстве он был очень сообразительным, но также отличался заносчивостью и неуправляемым характером, часто устраивая скандалы ради привлечения внимания. Его детские страхи, такие как боязнь кузнечиков, мешали ему легко входить в школьный коллектив, и он нередко использовал эти страхи для эмоционального контакта с одноклассниками. В школьные годы он проявлял склонность к эпатажу, затевая драки и торжествуя при малейших победах, что делало его «странным» для сверстников. В подростковом возрасте он начал обучение изобразительному искусству в муниципальной школе и Академии братьев ордена маристов. В 1916 году он впервые познакомился с современным искусством во время каникул в Кадакессе, что оказало влияние на его дальнейшее развитие. В 1921 году его мать умерла от рака, что стало для него трагической точкой, оказавшей сильное влияние на его эмоциональное состояние. В 1922 году он переехал в Мадрид и начал учёбу в Академии Сан-Фернандо, где быстро проявил свой талант и эксцентричность.</p>
        </div>
        <div id="period2" class="period">
          <h3>Период 2</h3>
          <p>В 1926 году Дали был исключен из академии за высокомерное отношение, что не помешало ему продолжать экспериментировать с кубизмом и дадаизм, а также познакомиться с Пабло Пикассо. В это же время он начал создавать работы под влиянием сюрреализма, участвуя в создании фильма «Андалузский пёс» вместе с Луисом Бунюэлем. В 1929 году он закрепил свои связи с сюрреалистами, в том числе с Андре Бретоном, и начал активно выступать в художественной среде. Его личная жизнь была сложной: он влюбился в Галлу, которая была женой поэта Поля Элюара, что вызвало у него сильное внутреннее напряжение и конфликты. В 1934 году он официально женился на Гале, но их отношения оставались сложными и наполненными взаимными страстями и разногласиями. В это время он создавал провокационные работы, в том числе картины, вызывающие скандалы, и начал вызывать общественное внимание эпатажными поступками. В 1937 году он побывал в Италии и начал включать в свои работы элементы классического академизма, что стало этапом отхода от чистого сюрреализма.</p>
        </div>
        <div id="period3" class="period">
          <h3>Период 3</h3>
          <p>Во время Второй мировой войны Дали и Гала переехали в США, где он продолжил свою карьеру, выпустив автобиографию «Тайная жизнь Сальвадора Дали» и сотрудничая с Уолтом Диснеем, а также работая в кино, в том числе с режиссёром Альфредом Хичкоком. В 1942 году его творчество стало коммерчески очень успешным, а он продолжал экспериментировать с различными жанрами, снимаясь в короткометражных фильмах и создавая сюрреалистические фотографии. В 1958 году он вновь женился с Галой в Испании, а в 1965 году приехал в Париж, где выступал с выставками и эпатажными поступками. В поздние годы он начал страдать болезнью Паркинсона, что существенно ограничило его способность к творчеству, и его работы становились все более простыми и скорбными. После смерти Галлы в 1982 году он пережил глубокую депрессию и продолжил жить в замке Пуболь, где в 1984 году случился пожар — после которого он переехал в музей. В последние годы его здоровье ухудшилось, и он умер в 1989 году в возрасте 84 лет, почти полностью потеряв способность к рисованию, оставив после себя огромное наследие, которое продолжает восхищать миллионы по всему миру.</p>
        </div>
      </div>
    </div>
  </div>
</section>

		<section id="topworks">
			<h2>Популярные работы</h2>
			<p>Познакомьтесь поближе с самыми известными работами и их смыслом, которые ассоциируются с Сальвадором Дали.</p>
			<div class="topworks-gallery">
				<div class="card"
					data-description="Картина изображает искажения времени через мягкие, плавящиеся часы, символизирующие нелинейное и субъективное восприятие времени и памяти, которые могут быть произвольно и неравномерно текущими. В центре композиции — расплывшаяся голова, автопортрет художника, символизирующая сон и бессознательное, где границы между сном, смертью и реальностью стираются. Твердые часы, лежащие циферблатом вниз, олицетворяют объективное время, а муравьи и муха — признаки разложения и гниения, связанные с бренностью бытия. Внутри картины присутствуют символы вечности и мудрости, такие как олива и мыс Креус, а также Мировое Яйцо, олицетворяющее жизнь и начало всего существующего.">
					<div class="card-image-container" style="position: relative;">
						<img src="Постоянство памяти.jpg" alt="Картина 1" />
						<button class="desc-btn">Описание</button>
						<div class="description-popup"></div>
					</div>
					<p>"Постоянство памяти"</p>
				</div>
				<div class="card"
					data-description="На картине идеализированное лицо Гала складывается воедино из сферических элементов, не соприкасающихся между собой. Все они имеют ось симметрии и уходят в перспективу. Мысль о том, что вся материя состоит из мельчайших частиц, которые даже не соприкасаются между собой, глубоко поразила Сальвадора Дали и стала основополагающей при написании многих полотен этого периода. Интересна связь названия картины с древнегреческой мифологией.">
					<div class="card-image-container" style="position: relative;">
						<img src="Галатея со сферами.jpg" alt="Картина 2" />
						<button class="desc-btn">Описание</button>
						<div class="description-popup"></div>
					</div>
					<p>"Галатея со сферами"</p>
				</div>
				<div class="card"
					data-description="Главный смысл работы «Сон» заключается в тяжести и в то же время хрупкости сна, на которые нам указывают громоздкая голова и непрочные опоры. Одновременно с этим неустойчивые подпорки могут символизировать тонкую связь с реальностью — они не дают спящему полностью уйти в бессознательное. А голова в этом случае ассоциируется с мозгом, который переносит в сон образы из жизни: собак, лодок и городов.">
					<div class="card-image-container" style="position: relative;">
						<img src="Сон.jpg" alt="Картина 3" />
						<button class="desc-btn">Описание</button>
						<div class="description-popup"></div>
					</div>
					<p>"Сон"</p>
				</div>
			</div>
		</section>

		<section id="gallery">
			<h2>Галерея работ</h2>
			<div class="carousel-container" style="margin-bottom:40px;">
				<div class="carousel-track" id="carousel-track1">
					<div class="gallery-item" data-year="1934"
						data-description="Отсылка к «Аллегории Живописи» Яна Вермеера, знаменитому произведению семнадцатого века, на котором художник, считающийся автопортретом Вермеера, изображён спиной к зрителю в характерном костюме.">
						<img src="Призрак Вермера Делфтского, который можно использовать как стол.jpg" alt="Картина 1" />
						<div class="caption">"Призрак Вермера Делфтского, который можно использовать как стол"</div>
					</div>
					<div class="gallery-item" data-year="1937"
						data-description="Смысл картины заключается в символическом предчувствии войны.Горящий жираф, помещённый на дальний план, для автора был «мужским космическим апокалиптическим монстром».">
						<img src="Жираф в огне.jpg" alt="Картина 2" />
						<div class="caption">"Жираф в огне"</div>
					</div>
					<div class="gallery-item" data-year="1940"
						data-description="Автор пытается изобразить бессмысленность войны, её противоестественность и губительность для цивилизации.Картина создаёт впечатление, будто бы лицо существует в параллельной реальности, мире сюрреалистических искажений.">
						<img src="Лицо войны.jpg" alt="Картина 3" />
						<div class="caption">"Лицо войны"</div>
					</div>
					<div class="gallery-item" data-year="1929"
						data-description="Идея картины — страдания и секс, секс как страдания, страдания как секс. Детская психологическая травма, которая отвращала художника от секса на протяжении всей его жизни, стала основным мотивом работы.">
						<img src="Великий мастурбатор.jpg" alt="Картина 4" />
						<div class="caption">"Великий мастурбатор"</div>
					</div>
					<div class="gallery-item" data-year="1940"
						data-description="Демонстрации метаморфозов, скрытых смыслов и контуров предметов. Стоящая на столе ваза серебристого оттенка, заполненная грушами с коричневатой кожицей, если вглядеться повнимательней, вдруг трансформируется в человеческое лицо.">
						<img src="Явление лица и вазы с фруктами на берегу моря.jpg" alt="Картина 5" />
						<div class="caption">"Явление лица и вазы с фруктами на берегу моря"</div>
					</div>
					<div class="gallery-item" data-year="1947"
						data-description="В этом сюрреалистическом изображении атолла Бикини воскрешается память о войне. Три символических сфинкса занимают разные планы: человеческая голова, расколотое дерево и гриб ядерного взрыва, говорящий об ужасах войны.">
						<img src="Три Сфинкса острова Бикини.jpg" alt="Картина 6" />
						<div class="caption">"Три Сфинкса острова Бикини"</div>
					</div>
					<div class="gallery-item" data-year="1931-1932"
						data-description="Один из примеров параноидально-критического подхода к искусству. Изображения отца и, возможно, матери смешаны с гротескным, нереальным образом гермафродита в середине.">
						<img src="Рождение жидких желаний.jpg" alt="Картина 7" />
						<div class="caption">"Рождение жидких желаний"</div>
					</div>
				</div>
			</div>
			<div class="popup-info" id="popup-info">
				<div class="popup-content">
					<button class="close-popup">×</button>
					<h3 id="popup-title"></h3>
					<p><strong>Год:</strong> <span id="popup-year"></span></p>
					<p id="popup-desc"></p>
				</div>
			</div>

	<div class="carousel-container2" style="margin-bottom:40px;">
		<div class="carousel-track2" id="carousel-track2">
			<div class="gallery-item2" data-year2="1943" 
      data-description2="Художник выразил свои скептические взгляды, написав эту картину во время пребывания в Соединённых Штатах. Форма шара, кажется, символическим инкубатором «нового» человека, человека «нового мира».">
        <img src="Геополитическое дитя, наблюдающее рождение Нового человека.jpg" alt="Картина 1" />
				<div class="caption2">"Геополитическое дитя, наблюдающее рождение Нового человека"</div>
			</div>
			<div class="gallery-item2" data-year2="1929" 
      data-description2="Это произведение, созданное на фрейдистских принципах, стало примером отношения Дали с его матерью, чьё искажённое тело появляется в далинианской пустыне.">
				<img src="Загадка желания Мою мать, мою мать, мою мать.jpg" alt="Картина 2" />
				<div class="caption2">"Загадка желания: Мою мать, мою мать, мою мать"</div>
			</div>
      <div class="gallery-item2" data-year2="1954" 
      data-description2="Картина имволически изображает взаимодействие между реальностью и подсознанием, подчеркивая важность воображения и сновидений в процессе творческого вдохновения.">
        <img src="Расплавленные часы.jpg" alt="Картина 3" />
        <div class="caption2">"Расплавленные часы"</div>
      </div>
      <div class="gallery-item2" data-year2="1945" 
      data-description2="Гала со спины. Это замечательное изображение стало одним из самых эклектичных произведений Дали, где объединились классика и сюрреализм, спокойствие и странность.">
        <img src="Моя обнаженная жена, созерцающая собственную плоть, превратившуюся в лестницу, в три позвонка колонны, в небо и в архитектуру.jpg" alt="Картина 4" />
        <div class="caption2">"Моя обнаженная жена, созерцающая собственную плоть, превратившуюся в лестницу, в три позвонка колонны, в небо и в архитектуру"</div>
      </div>
        <div class="gallery-item2" data-year2="1936" 
        data-description2="Второе название картины – «Предчувствие гражданской войны». Здесь изображены предполагаемые ужасы гражданской войны в Испании, так как художник написал её за шесть месяцев до начала конфликта. Это было одно из предчувствий Сальвадора Дали.">
				<img src="Мягкая конструкция с вареными бобами.jpg" alt="Картина 5" />
				<div class="caption2">"Мягкая конструкция с вареными бобами"</div>
			</div>
      <div class="gallery-item2" data-year2="1934-1935" 
      data-description2="На полотне изображена жертва моды эпохи машин, спускающаяся по подиуму, который на самом деле является бездной. Название предполагает боль и страдания женщины.">
				<img src="Лицо Мэй Уэст, использованное в качестве сюрреалистической комнаты.jpg" alt="Картина 6" />
				<div class="caption2">"Лицо Мэй Уэст, использованное в качестве сюрреалистической комнаты"</div>
			</div>
      <div class="gallery-item2" data-year2="1954" 
      data-description2="В картине изображена женская фигура и абстрактный фон. Художник изучает вопрос о подавленной сексуальности, что следует из названия произведения и фаллических форм, которые часто появляются в творчестве Дали.">
				<img src="Содомское самоудовлетворение невинной девы.jpg" alt="Картина 7" />
				<div class="caption2">"Содомское самоудовлетворение невинной девы"</div>
			</div>
		</div>
	</div>
<div class="popup-info2" id="popup-info2">
				<div class="popup-content2">
					<button class="close-popup2">×</button>
					<h3 id="popup-title2"></h3>
					<p><strong>Год:</strong> <span id="popup-year2"></span></p>
					<p id="popup-desc2"></p>
				</div>
			</div>

		</section>

		<section id="addresses">
			<h2>Адреса</h2>
			<p>В данных галереях вы можете найти работы Макса Эрнста, выставленные на данный момент.</p>
			<div class="map-container">
				<div class="map-wrapper" id="map"></div>
				<div class="buttons-wrapper">
					<button class="address-btn" data-lat="42.2678" data-lon="2.9594">"Театр-музей Дали", Фигеграс, Каталония, Испания</button>
					<button class="address-btn" data-lat="27.7592" data-lon="-82.6370">"Музей Сальвадора Дали", Сент-Питерсберг, США</button>
					<button class="address-btn" data-lat="48.8864" data-lon="2.3397">"Музей Сальвадора Дали в Париже", Париж, Франция</button>
				</div>
			</div>
		</section>

		<section id="comments" class="comments-section">
			<h2>Комментарии</h2>
			<div id="comments-list" class="comments-list"></div>
			<div class="comment-form">
				<textarea id="newComment" placeholder="Ваш комментарий..." rows="3"></textarea>
				<button id="submitComment">Отправить</button>
			</div>
		</section>

		
<footer class="footer">
	<section id="footer" class="footer-section">
		<h3>О нас</h3>
		<p>Цель — продвигать исскуство и его различные направления. Это не только сборники информации, но и ее смысл.
			Здесь больше, чем искусство.</p>
	</div>
	<div class="footer-section">
		<h3>Контакты</h3>
		<p>Телефон: +7 (901) 972-14-03</p>
		<p>Email: lollamatyusheva@gmail.com</p>
		<p>Адрес: г. Санкт-Петербург, пер. Джамбула, д. 13</p>
	</div>
	<div class="footer-section subscription">
		<h3>Подписка на новости</h3>
		<p>Введите почту, чтобы получать свежие новости и анонсы выставок.</p>
		<input type="email" id="subscribeEmail" class="subscribe-input" placeholder="Ваш email" />
		<button id="subscribeBtn" class="subscribe-btn">Подписаться</button>
		<p id="subscribeMessage" class="subscribe-message">Вы успешно подписались на новости!</p>
	</div>
	<div class="footer-copy">
		<p>© 2025 Сюрреалисты. Все права защищены.</p>
	</div>
</footer>







		<script>
			const backToHome = document.getElementById("back-to-home");
			
			window.onscroll = function() {
			if (document.body.scrollTop > 50 || document.documentElement.scrollTop > 50) {
			backToHome.style.display = "block";
			} else {
			backToHome.style.display = "none";
			}
			};
			
			backToHome.onclick = function() {
			window.scrollTo({
			top: 0,
			behavior: 'smooth' 
			});
			};

        const menuToggle = document.getElementById('menu-toggle');
        const navDropdown = document.getElementById('nav-dropdown');

        menuToggle.addEventListener('click', () => {
            const expanded = menuToggle.getAttribute('aria-expanded') === 'true' || false;
            menuToggle.setAttribute('aria-expanded', String(!expanded));
            navDropdown.classList.toggle('show');
        });

        menuToggle.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                menuToggle.click();
            }
        });

        document.querySelectorAll('#nav-dropdown button, nav ul a').forEach(btn => {
            btn.addEventListener('click', () => {
                const targetId = btn.getAttribute('data-target') || btn.getAttribute('href').substring(1);
                const targetSection = document.getElementById(targetId);
                if (targetSection) {
                    targetSection.scrollIntoView({ behavior: 'smooth' });
                }
                if (navDropdown.classList.contains('show')) {
                    navDropdown.classList.remove('show');
                    menuToggle.setAttribute('aria-expanded', 'false');
                }
            });
        });

        const periodButtons = document.querySelectorAll('#period-buttons button');
        const periods = document.querySelectorAll('.period');

        function showPeriod(id) {
            periods.forEach(p => p.classList.remove('active'));
            const target = document.getElementById(id);
            if (target) target.classList.add('active');
        }
        showPeriod('period1');

        periodButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                const periodId = 'period' + btn.getAttribute('data-period');
                showPeriod(periodId);
            });
        });

        function updatePeriodButtonsDisplay() {
            document.getElementById('period-buttons').style.display = 'flex';
        }
        window.addEventListener('resize', updatePeriodButtonsDisplay);
        updatePeriodButtonsDisplay();

document.querySelectorAll('.card').forEach(card => {
  const btn = card.querySelector('.desc-btn');
  const popup = card.querySelector('.description-popup');

  const customText = card.getAttribute('data-description');
  popup.innerHTML = `<p>${customText}</p>`;

  function updateDisplay() {
    const isMobile = window.innerWidth <= 768;

    if (isMobile) {
      popup.style.display = 'none';

      if (btn) {
        btn.style.display = 'inline-block';

        if (!btn.dataset.bound) {
          btn.addEventListener('click', () => {
            if (popup.style.display === 'none' || popup.style.display === '') {
              popup.style.display = 'flex';
              btn.innerText = 'Скрыть описание';
            } else {
              popup.style.display = 'none';
              btn.innerText = 'Показать описание';
            }
          });
          btn.dataset.bound = 'true'; 
        }
      }
    } else {
      popup.style.display = 'flex';

      // скрываем кнопку
      if (btn) {
        btn.style.display = 'none';
        btn.innerText = 'Показать описание';
      }
    }
  }

  window.addEventListener('load', updateDisplay);
  window.addEventListener('resize', updateDisplay);

  document.addEventListener('click', (e) => {
    if (!e.target.closest('.card-image-container') && !e.target.closest('.desc-btn')) {
      if (window.innerWidth <= 768) {
        if (popup.style.display === 'flex') {
          popup.style.display = 'none';
          if (btn) btn.innerText = 'Показать описание';
        }
      }
    }
  });
});

      const track = document.querySelector('.carousel-track');
      const items = document.querySelectorAll('.gallery-item');
      const popup = document.getElementById('popup-info');
      const popupTitle = document.getElementById('popup-title');
      const popupYear = document.getElementById('popup-year');
      const popupDesc = document.getElementById('popup-desc');

      let isPaused = false;
      let currentTranslateX = 0;
      let direction1 = -1; 

      function autoScroll() {
          if (isPaused) return;

          const firstItem = items[0];
          const itemWidth = firstItem.offsetWidth + 15;

          currentTranslateX += direction1 * itemWidth;

          const maxTranslate = track.scrollWidth - track.parentElement.offsetWidth;

          if (currentTranslateX >= maxTranslate) {
              currentTranslateX = maxTranslate;
              direction1 = -1; 
          } else if (currentTranslateX <= 0) {
              currentTranslateX = 0;
              direction1 = 1; 
          }

          track.style.transform = `translateX(-${currentTranslateX}px)`;
      }

      let intervalId1 = setInterval(autoScroll, 2000);

      track.addEventListener('mouseenter', () => { isPaused = true; });
      track.addEventListener('mouseleave', () => { isPaused = false; });

      items.forEach(item => {
          item.addEventListener('click', () => {
              const title = item.querySelector('.caption').innerText;
              const year = item.getAttribute('data-year');
              const desc = item.getAttribute('data-description');

              popupTitle.innerText = title;
              popupYear.innerText = year;
              popupDesc.innerText = desc;
              popup.classList.add('show');
          });
      });

      document.querySelector('.close-popup').addEventListener('click', () => {
          popup.classList.remove('show');
      });

      const track2 = document.querySelector('.carousel-track2');
      const items2 = document.querySelectorAll('.gallery-item2');
      const popup2 = document.getElementById('popup-info2');
      const popupTitle2 = document.getElementById('popup-title2');
      const popupYear2 = document.getElementById('popup-year2');
      const popupDesc2 = document.getElementById('popup-desc2');

      let isPaused2 = false;
      let totalWidth2 = track2.scrollWidth;
      let containerWidth2 = track2.parentElement.offsetWidth;
      let currentTranslateX2 = totalWidth2 - containerWidth2;
      let direction2 = 1; 

      function updateDimensions() {
          totalWidth2 = track2.scrollWidth;
          containerWidth2 = track2.parentElement.offsetWidth;
      }
      window.addEventListener('resize', updateDimensions);

      function autoScroll2() {
          if (isPaused2) return;

          const firstItem = items2[0];
          const itemWidth = firstItem.offsetWidth + 15;

          currentTranslateX2 += direction2 * itemWidth;

          if (currentTranslateX2 >= totalWidth2 - containerWidth2) {
              currentTranslateX2 = totalWidth2 - containerWidth2;
              direction2 = -1;
          } else if (currentTranslateX2 <= 0) {
              currentTranslateX2 = 0;
              direction2 = 1;
          }

          track2.style.transform = `translateX(-${currentTranslateX2}px)`;
      }

      let intervalId2 = setInterval(autoScroll2, 2000);

      track2.addEventListener('mouseenter', () => { isPaused2 = true; });
      track2.addEventListener('mouseleave', () => { isPaused2 = false; });

      items2.forEach(item => {
          item.addEventListener('click', () => {
            const title = item.querySelector('.caption2').innerText;
            const year = item.getAttribute('data-year2');
            const desc = item.getAttribute('data-description2');

            document.getElementById('popup-title2').innerText = title;
            document.getElementById('popup-year2').innerText = year;
            document.getElementById('popup-desc2').innerText = desc;
            
            popup2.classList.add('show');
          });
        });

        const closeBtn2 = document.querySelector('.close-popup2');
        if (closeBtn2) {
          closeBtn2.addEventListener('click', () => {
            popup2.classList.remove('show');
          });
        }

		</script>

		<script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU&apikey=301c8492-009d-4551-b7e6-ac10481a3e36"
			type="text/javascript"></script>
		<script>
			let myMap, placemark;
		
		  function initMap() {
		    ymaps.ready(() => {
		      myMap = new ymaps.Map("map", {
		        center: [42.2664, 2.9614], 
		        zoom: 10,
		        controls: ['zoomControl']
		      });
		
		      myMap.events.add('click', function (e) {
		        const coords = e.get('coords');
		        if (placemark) {
		          placemark.geometry.setCoordinates(coords);
		        } else {
		          placemark = new ymaps.Placemark(coords, {}, {
		            draggable: true
		          });
		          myMap.geoObjects.add(placemark);
		          
		          placemark.events.add('dragend', () => {
		            const newCoords = placemark.geometry.getCoordinates();
		            console.log('Новое местоположение:', newCoords);
		          });
		        }
		      });
		      
		      document.querySelectorAll('.address-btn').forEach(btn => {
		        btn.addEventListener('click', () => {
		          const lat = parseFloat(btn.getAttribute('data-lat'));
		          const lon = parseFloat(btn.getAttribute('data-lon'));
		          myMap.setCenter([lat, lon], 14);
		          if (placemark) {
		            placemark.geometry.setCoordinates([lat, lon]);
		          } else {
		            placemark = new ymaps.Placemark([lat, lon], {}, {
		              draggable: true
		            });
		            myMap.geoObjects.add(placemark);
		            placemark.events.add('dragend', () => {
		              const newCoords = placemark.geometry.getCoordinates();
		              console.log('Новое местоположение:', newCoords);
		            });
		          }
		        });
		      });
		    });
		  }
		
		  window.addEventListener('load', initMap);
		</script>

		<script>
			const commentsList = document.getElementById('comments-list');
		  const textarea = document.getElementById('newComment');
		  const btnSend = document.getElementById('submitComment');
		const localStorageAvatarKey = 'profileAvatar'; // ключ для хранения

		  const currentUser = {
 			 name: 'ВЫ',
  			avatar: localStorage.getItem('profileAvatar') || ''
			};
		
		  const predefinedComments = [
    { author: 'Анастасия', avatar: 'профиль10.jpg', text: 'Его творчество — это мост между подсознанием и искусством, и оно вдохновляет многих поколений!' },
    { author: 'Владимир', avatar: 'профиль2.jpg', text: '🙄🙄🙄' },
    { author: 'Евгений', avatar: 'профиль4.jpg', text: 'Каждая его картина — это настоящий шедевр, который заставляет задуматься о границах реальности.' },
    { author: 'Светлана', avatar: 'профиль1.jpg', text: 'Недавно размышляла о его умением превращать сны и подсознательные образы в яркие художественные шедевры. Интересно, как он использует свои внутренние фантазии, чтобы создавать такие уникальные сюрреалистические миры.' },
    { author: 'Джун', avatar: 'профиль7.jpg', text: 'Очень впечатляет, как он сочетает разные эпохи и культуры в одном произведении.' },
    { author: 'Ольга', avatar: 'профиль8.jpg', text: 'Театр-музей в Испании — самый интересный музей из музеев где я когда-либо бывала😌 Какой же всё-таки талантливый был Сальвадор Дали!' },
    { author: 'Дмитрий', avatar: 'профиль9.jpg', text: 'Пикассо лучше, имхо :/' },
    { author: 'Фейт', avatar: 'профиль6.jpg', text: 'Мне картины Сальвадора Дали часто кажутся странными и провокационными, однако в них все же скрыт глубокий философский смысл. Например, о природе времени, памяти и человеческого подсознания. Его сюрреалистические образы побуждают зрителя задуматься о том, как воспринимается реальность и какая роль у воображения в нашей жизни. В каждом произведении можно найти символы, раскрывающие внутренние переживания и страхи, что делает его творчество одновременно загадочным и поучительным.' },
    { author: 'Алексей', avatar: 'профиль5.jpg', text: 'Иногда кажется, что он слишком зациклен на провокации ради внимания, а не ради художественного выражения.' },
    { author: 'Елена', avatar: 'профиль3.jpg', text: 'Всем советую ознакомится поближе с его работами!' }
];
		
			let allCommentsData = [];
		
		  function createComment({author, avatar, text, replyTo = null}) {
		    const commentDiv = document.createElement('div');
		    commentDiv.className = 'comment';
		
		    const headerDiv = document.createElement('div');
		    headerDiv.className = 'comment-header';
		
		    const avatarImg = document.createElement('img');
		    avatarImg.src = avatar;
		    avatarImg.className = 'comment-avatar';
		
		    const infoDiv = document.createElement('div');
		    infoDiv.className = 'comment-info';
		
		    const authorSpan = document.createElement('span');
		    authorSpan.className = 'comment-author';
		    authorSpan.innerText = author;
		    infoDiv.appendChild(authorSpan);
		
		    if (replyTo) {
		      const replyToSpan = document.createElement('div');
		      replyToSpan.className = 'comment-reply-to';
		      replyToSpan.innerText = `(@${replyTo.author})`;
		      infoDiv.appendChild(replyToSpan);
		    }
		
		    const actionsDiv = document.createElement('div');
		    actionsDiv.className = 'comment-actions';
		
		    const likeBtn = document.createElement('button');
		    likeBtn.innerHTML = `👍 <span class="like-count">0</span>`;
		    likeBtn.dataset.liked = 'false';
		    likeBtn.onclick = () => {
		      const liked = likeBtn.dataset.liked === 'true';
		      const dislikeBtn = likeBtn.nextElementSibling;
		      if (!liked) {
		        likeBtn.dataset.liked = 'true';
		        likeBtn.querySelector('.like-count').innerText = '1';
		        if (dislikeBtn.dataset.liked === 'true') {
		          dislikeBtn.dataset.liked = 'false';
		          dislikeBtn.querySelector('.dislike-count').innerText = '0';
		        }
		      } else {
		        likeBtn.dataset.liked = 'false';
		        likeBtn.querySelector('.like-count').innerText = '0';
		      }
		    };
		
		    const dislikeBtn = document.createElement('button');
		    dislikeBtn.innerHTML = `👎 <span class="dislike-count">0</span>`;
		    dislikeBtn.dataset.liked = 'false';
		    dislikeBtn.onclick = () => {
		      const disliked = dislikeBtn.dataset.liked === 'true';
		      const likeBtnRef = dislikeBtn.previousElementSibling; // лайк — предыдущий
		      if (!disliked) {
		        dislikeBtn.dataset.liked = 'true';
		        dislikeBtn.querySelector('.dislike-count').innerText = '1';
		        if (likeBtnRef.dataset.liked === 'true') {
		          likeBtnRef.dataset.liked = 'false';
		          likeBtnRef.querySelector('.like-count').innerText = '0';
		        }
		      } else {
		        dislikeBtn.dataset.liked = 'false';
		        dislikeBtn.querySelector('.dislike-count').innerText = '0';
		      }
		    };
		
		    const replyBtn = document.createElement('button');
        replyBtn.innerText = 'Ответить';

        replyBtn.onclick = () => {
            // Проверяем есть ли уже окно ответа
            const existingReplyBox = commentDiv.querySelector('.reply-box');
            if (existingReplyBox) {
                existingReplyBox.remove();
            } else {
                const replyBox = document.createElement('div');
                replyBox.className = 'reply-box';

                const replyTextarea = document.createElement('textarea');
                replyTextarea.rows = 2;
                replyTextarea.placeholder = 'Ваш ответ...';

                const replySend = document.createElement('button');
                replySend.innerText = 'Отправить';

                replySend.onclick = () => {
                    if (replyTextarea.value.trim() !== '') {
                        createComment({
author: currentUser.name,
                            avatar: currentUser.avatar,
                            text: replyTextarea.value,
                            replyTo: {author: author}
                        });
                        replyBox.remove();
                    }
                };

                replyBox.appendChild(replyTextarea);
                replyBox.appendChild(replySend);
                commentDiv.appendChild(replyBox);
            }
        };
		
					const deleteBtn = document.createElement('button');
					deleteBtn.innerText = 'Удалить';
					deleteBtn.onclick = () => {
					if (confirm('Удалить этот комментарий?')) {
					const commentId = commentDiv.getAttribute('data-id');
					if (commentId) {
					allCommentsData = allCommentsData.filter(c => c.id !== commentId);
					}
					commentDiv.remove();
					}
					};
		
		    actionsDiv.appendChild(likeBtn);
		    actionsDiv.appendChild(dislikeBtn);
		    actionsDiv.appendChild(replyBtn);
		    if (author === currentUser.name) {
		      actionsDiv.appendChild(deleteBtn);
		    }
		
		    headerDiv.appendChild(avatarImg);
		    headerDiv.appendChild(infoDiv);
		    headerDiv.appendChild(actionsDiv);
		
		    const textDiv = document.createElement('div');
		    textDiv.className = 'comment-text';
		    textDiv.innerText = text;
		
		    commentDiv.appendChild(headerDiv);
		    commentDiv.appendChild(textDiv);
		
		    commentsList.appendChild(commentDiv);
		
		    allCommentsData.push({author, avatar, text});
		  }
		
		  document.getElementById('submitComment').onclick = () => {
		    const text = textarea.value.trim();
		    if (text !== '') {
		      createComment({
		        author: currentUser.name,
		        avatar: currentUser.avatar,
		        text: text
		      });
		      textarea.value = '';
		
		      setTimeout(() => {
		        for (let i=0; i<2; i++) {
		          const randIndex = Math.floor(Math.random() * predefinedComments.length);
		          createComment(predefinedComments[randIndex]);
		        }
		      }, 5000);
		    }
		  };
		
		  function addAutoComments() {
		    for (let i=0; i<2; i++) {
		      const randIndex = Math.floor(Math.random() * predefinedComments.length);
		      setTimeout(() => {
		        createComment(predefinedComments[randIndex]);
		      }, Math.random() * 2000 + 3000);
		    }
		  }
		  addAutoComments();

			document.getElementById('subscribeBtn').onclick = () => {
			const emailInput = document.getElementById('subscribeEmail');
			const messageP = document.getElementById('subscribeMessage');
			const email = emailInput.value.trim();
			
			const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
			
			if (email === '') {
			alert('Пожалуйста, введите ваш email!');
			} else if (!emailPattern.test(email)) {
			alert('Пожалуйста, введите корректный email!');
			} else {
			messageP.style.display = 'block';
			
			emailInput.value = '';
			}
			};

		</script>

</body>
</html>
